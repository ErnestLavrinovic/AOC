using System;
using System.Collections.Generic;
using System.IO;

namespace AOC__2018_day1_part1 //2019 day 6 part 2 im lazy to change projects
{
    internal class Program
    {
        private static void Main(string[] args)
        {
            Dictionary<string, List<string>> graph = new Dictionary<string, List<string>>();
            foreach (string line in File.ReadLines("C:/Users/HP/source/repos/AOC  2018 day1 part1/AOC  2018 day1 part1/input.txt"))
            {
                string[] split = line.Split(')');
                string parent = split[0];
                string child = split[1];

                if (!graph.ContainsKey(parent))
                    graph[parent] = new List<string>();
                if (!graph.ContainsKey(child))
                    graph[child] = new List<string>();

                graph[parent].Add(child);
                graph[child].Add(parent);
            }

            Queue<(string node, int steps)> queue = new Queue<(string, int)>();
            HashSet<string> visited = new HashSet<string>();
            string start = graph["YOU"][0];
            string target = graph["SAN"][0];

            queue.Enqueue((start, 0));
            visited.Add(start);

            while (queue.Count > 0)
            {
                var (current, steps) = queue.Dequeue();

                if (current == target)
                {
                    Console.WriteLine($"Minimum orbital transfers: {steps}");
                    break;
                }

                foreach (string neighbor in graph[current])
                {
                    if (!visited.Contains(neighbor))
                    {
                        visited.Add(neighbor);
                        queue.Enqueue((neighbor, steps + 1));
                    }
                }
            }

            Console.ReadLine();
        }
    }
}